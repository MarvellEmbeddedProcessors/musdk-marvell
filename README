		Marvell (c) Linux User-Space SDK (MUSDK)
=================================================

MUSDK is a light-weight user-space I/O driver for Marvell Networking HW blocks
(e.g. Packet-Procesor, Security-Accelaration-Module, etc.).
The purpose of this driver library is to provide a simple and direct access to
Marvell networking related HW for networking applications and networking
infrastrucutres (e.g. OpenDataPlane).

Coding style:
-------------
Linux Kernel Coding Style
https://www.kernel.org/doc/Documentation/CodingStyle


Steps to build and run the MUSDK library:
-----------------------------------------

0. Build Linux:
a. Make sure the Linux is build with the following configuration flags:
	CONFIG_MVPP2X=y
	CONFIG_UIO=y
b. Apply all patches found <musdk-src-dir>/patches/linux.
   Note: "0003-patch-dts-set-port0-status-non-kernel.patch" is an _example_ how to configure 
          the PPV2 ports that belong to musdk.

1. Build the PP2-tmp kernel module and install it:
> cd <musdk-src-dir>/modules/pp2_tmp
> export LDFLAGS=""
> make -C $KDIR M=$PWD

2. Build the MUSDK and install it:
> cd <musdk-src-dir>
> ./bootstrap
> ./configure --host=aarch64-linux-gnu --prefix=<musdk-install-dir>
> make
> make install
NOTE: As a temporary W/A, move all files in <musdk-install-dir>/include/include to <musdk-install-dir>/include

3. Running MUSDK apps:
a. Copy the kernel module (mv_pp_uio.ko) to the target board file-system.
b. Copy the MUSDK local install folder (<musdk-install-dir>) to equivalent path on
   the target board file-system.
c. Insert all KS modules:
	> insmod mv_pp_uio.ko
d. Run a MUSDK application. Example: musdk_dma_mem, musdk_pkt_echo
