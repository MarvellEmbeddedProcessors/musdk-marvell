From fcef7eb63024a7c5633ce737ef766a4848698cb2 Mon Sep 17 00:00:00 2001
From: Ehud Naim <ehudn@marvell.com>
Date: Sun, 6 Nov 2016 13:50:16 +0200
Subject: [PATCH 1/2] patch: dts: add uio support to dts

add uio support to dts

Change-Id: I66ea6ab3cc5d560a1191ecc23bf7116a5a186957
Signed-off-by: Ehud Naim <ehudn@marvell.com>
---
 .../boot/dts/marvell/armada-7040-db-router.dts     | 25 ++++++++++++++++++++++
 1 file changed, 25 insertions(+)

diff --git a/arch/arm64/boot/dts/marvell/armada-7040-db-router.dts b/arch/arm64/boot/dts/marvell/armada-7040-db-router.dts
index cf4e378..37a180f 100644
--- a/arch/arm64/boot/dts/marvell/armada-7040-db-router.dts
+++ b/arch/arm64/boot/dts/marvell/armada-7040-db-router.dts
@@ -120,6 +120,31 @@
 					reg = <1>;
 				};
 			};
+
+			uio_ppv22 {
+				compatible = "marvell,mv-pp-uio";
+				reg = <0x0 0x90000 0x120000 0x9000 0x129000 0x600 0x12a200 0x200 0x130000 0x6000 0x441000 0x1000>;
+				reg-names = "pp", "serdes", "xmib", "smi", "mspg", "rfu1";
+				clocks = <&cpm_syscon0 1 3>, <&cpm_syscon0 1 18>, <&cpm_syscon0 1 9>,
+					<&cpm_syscon0 1 6>, <&cpm_syscon0 1 5>;
+				clock-names = "pp_clk", "gop_core_clk", "gop_clk", "mg_core_clk", "mg_clk";
+				status = "okay";
+
+				eth0@010000 {
+					interrupts = <0x0 0x25 0x4 0x0 0x29 0x4 0x0 0x2d 0x4 0x0 0x31 0x4 0x0 0x35 0x4>;
+					port-id = <0x0>;
+					emac-data = <0x24>;
+					status = "okay";
+				};
+
+				eth1@020000 {
+					interrupts = <0x0 0x26 0x4 0x0 0x2a 0x4 0x0 0x2e 0x4 0x0 0x32 0x4 0x0 0x36 0x4>;
+					port-id = <0x1>;
+					emac-data = <0x25>;
+					status = "okay";
+				};
+			};
+
 			gop {
 				emac0: mac0 {
 					phy-mode = "sgmii"; /* lane-2 */
-- 
2.3.0

